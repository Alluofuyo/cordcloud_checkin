name: courd_cloud_api_checkin_test
on:
    workflow_dispatch:
jobs:
  auto_checkin:
    runs-on: ubuntu-latest
    env:
      TZ: Asia/Shanghai
    steps:
      - name: Check Date
        run: date
      - name: Check out cordcloud_api branch
        uses: actions/checkout@v5
        with:
          ref: cordcloud_api
      - name: astral-sh/setup-uv
        # You may pin to the exact commit or the version.
        # uses: astral-sh/setup-uv@4959332f0f014c5280e7eac8b70c90cb574c9f9b
        uses: astral-sh/setup-uv@v6.6.0
        with:
          # The version of uv to install e.g., `0.5.0` Defaults to the version in pyproject.toml or 'latest'.
          version: 0.8.13 # optional, default is 
          # Path to a file containing the version of uv to install. Defaults to searching for uv.toml and if not found pyproject.toml.
          python-version: 3.12 # optional
          # Enable uploading of the uv cache
          enable-cache: true # optional, default is auto
          # Glob pattern to match files relative to the repository root to control the cache.
      - name: install dependencies
        run:
          uv sync
      - name: run task
        run:
          uv run python main.py

    


